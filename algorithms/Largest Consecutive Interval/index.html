
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../favicon_io/favicon-32x32.png">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.5.1">
    
    
      
        <title>Largest Consecutive Interval - Chika's Home</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.2e8b5541.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#largest-consecutive-interval" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Chika&#39;s Home" class="md-header__button md-logo" aria-label="Chika's Home" data-md-component="logo">
      
  <img src="../../favicon_io/android-chrome-512x512.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Chika's Home
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Largest Consecutive Interval
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/hirasawakinko/chika_home" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    chika_home
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../about/" class="md-tabs__link">
      About Me
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../about_site/" class="md-tabs__link">
      About This Site
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../library/" class="md-tabs__link">
      Chika's Library
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../review_book/" class="md-tabs__link">
      Book Review
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../" class="md-tabs__link">
      Algorithms
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../python/" class="md-tabs__link">
      Python Guide
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../how_to/" class="md-tabs__link">
      How to
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../toward_science/" class="md-tabs__link">
      Toward Science
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../GIS/" class="md-tabs__link">
      GIS
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../blog/" class="md-tabs__link">
      Blog
    </a>
  </li>

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Chika&#39;s Home" class="md-nav__button md-logo" aria-label="Chika's Home" data-md-component="logo">
      
  <img src="../../favicon_io/android-chrome-512x512.png" alt="logo">

    </a>
    Chika's Home
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/hirasawakinko/chika_home" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    chika_home
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        About Me
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../about_site/" class="md-nav__link">
        About This Site
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../library/" class="md-nav__link">
        Chika's Library
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../review_book/" class="md-nav__link">
        Book Review
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        Algorithms
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../python/" class="md-nav__link">
        Python Guide
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../how_to/" class="md-nav__link">
        How to
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../toward_science/" class="md-nav__link">
        Toward Science
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../GIS/" class="md-nav__link">
        GIS
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../blog/" class="md-nav__link">
        Blog
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/hirasawakinko/chika_home/edit/master/docs/algorithms/Largest Consecutive Interval.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<h1 id="largest-consecutive-interval">Largest Consecutive Interval<a class="headerlink" href="#largest-consecutive-interval" title="Permanent link">&para;</a></h1>
<h1 id="contents">Contents<a class="headerlink" href="#contents" title="Permanent link">&para;</a></h1>
<ol>
<li><a href="#data-structure">Data Structure</a></li>
<li><a href="#divide-and-conquer">Divide and Conquer</a></li>
<li><a href="#wrap-everything-ip">Wrap Everything Up</a></li>
<li><a href="#real-maxium-interval">Real Maxium Interval</a></li>
<li><a href="#general-maxium-interval">General Maxium Interval</a></li>
</ol>
<p>Problem:</p>
<blockquote>
<p>Given a list of intervals, find the largest consecutive interval</p>
</blockquote>
<p>For Example:</p>
<blockquote>
<p>1, 4<br />
   9, 10<br />
   15, 20<br />
   3, 15</p>
</blockquote>
<p>This seems easy, you can make a full-length list to keep tract of the frequency of elements from the smallest to the largest. </p>
<p>But let say one interval is (1,1e18), then you must make a 1e18-long list to do the task. </p>
<p>This doesn't sound efficient.</p>
<p>Therefore in order to implement this algorithm efficiently, you have to work directly with intervals. </p>
<h1 id="data-structure">Data Structure<a class="headerlink" href="#data-structure" title="Permanent link">&para;</a></h1>
<p>I choose list for the sake of simplicity.</p>
<p>Since the intervals are just number pairs, you can encode them in a list.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code>[ (a b) (c d) ]

Here you have a list length=4, contains number of intervals=2
</code></pre></div></td></tr></table></div>
<p>Therefore you can make use of the property of a plain list, you can do binary search, also slicing on it.</p>
<p>For example:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code>A             = [ (1 4) (7 9) ]

next interval = (3, 6) = (lo, hi)
</code></pre></div></td></tr></table></div>
<p>Lets consider 3=lo. We need know where should 3 belongs to A, namely, is 3 within some interval or outside of any interval. Here you use binary search to find the point of insert.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span>
<span class="normal"><a href="#__codelineno-0-2">2</a></span>
<span class="normal"><a href="#__codelineno-0-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">bisect</span> <span class="kn">import</span> <span class="n">bisect</span> <span class="k">as</span> <span class="n">find</span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">insert_point</span> <span class="o">=</span> <span class="n">find</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="mi">1</span>
</code></pre></div></td></tr></table></div>
<p>This is a odd number. odd number means it is within the interval at index 0~1. Because:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code>intervals = [ (a b) (c d) ... ]
index     = [  0 1   2 3  ... ]

index is odd even odd even...

odd insert index ==means==&gt; after a even index ==means==&gt; (start, insert, end)
</code></pre></div></td></tr></table></div>
<p>Thus by finding whether the index returned by find() is even or edd. </p>
<p>You also know whether it is being inserted within or outside a particular interval. That is:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code>A    = [ (1  4)  (7  9) ]
next =     (3  6)

for 3: find(A, 3) =&gt; 1 =&gt; odd  =&gt; within particaular interval
for 6: find(A, 6) =&gt; 2 =&gt; even =&gt; outside of any interval
</code></pre></div></td></tr></table></div>
<p>As 3 is within particular interval, it is overlapped with that particular interval, thus is consecutive. 
Therefore you can combine them as one single interval.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>new_A = [ (1 6) (7,9) ]
</code></pre></div></td></tr></table></div>
<p>This is the basic idea of this algorithm.</p>
<p>Here is the implementation.</p>
<h1 id="divide-and-conquer">Divide and Conquer<a class="headerlink" href="#divide-and-conquer" title="Permanent link">&para;</a></h1>
<p>But there is more to think about. What about boundary case? </p>
<p>How is that exactly to combine intervals and update the list? </p>
<p>First of all, let's break things down into smaller parts.</p>
<p>Consider the same list as previous section,</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code>A             = [ (1 4) (7 9) ]

# For arbitrary interval
next interval = (lo, hi)
</code></pre></div></td></tr></table></div>
<h2 id="combine-intervals-and-update-the-list">combine intervals and update the list<a class="headerlink" href="#combine-intervals-and-update-the-list" title="Permanent link">&para;</a></h2>
<p>Before going into the details of handling lo and hi, first you need to know how to do the finishing task. </p>
<p>Let say this is the result. (1, 4) combine with (lo, hi), to form a new (1, hi) interval, replacing the old one.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code>A    = [ (1    4)     (7  9) ]
next =      (lo   hi)

new_A = [ (1 hi) (7 9) ]
</code></pre></div></td></tr></table></div>
<p>In general case, there you can divide the list into three parts:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code>[ &lt;left intervals&gt;  &lt;combined intervals&gt;  &lt;righ intervals&gt; ]

[ &lt;left intervals&gt;    ( 1  lo  4  hi )    &lt;righ intervals&gt; ]
</code></pre></div></td></tr></table></div>
<p>What you need to do is to split the list into three parts, replace the middle part with combined intervals, and then put these three parts back together as the new list.</p>
<p>In order to achive this, you have to find out the lower and upper limits for slicing.</p>
<p>For example, for a completely disjointed new interval:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1">1</a></span>
<span class="normal"><a href="#__codelineno-1-2">2</a></span>
<span class="normal"><a href="#__codelineno-1-3">3</a></span>
<span class="normal"><a href="#__codelineno-1-4">4</a></span>
<span class="normal"><a href="#__codelineno-1-5">5</a></span>
<span class="normal"><a href="#__codelineno-1-6">6</a></span>
<span class="normal"><a href="#__codelineno-1-7">7</a></span>
<span class="normal"><a href="#__codelineno-1-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="kn">from</span> <span class="nn">bisect</span> <span class="kn">import</span> <span class="n">bisect</span> <span class="k">as</span> <span class="n">find</span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="n">A</span> <span class="o">=</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span> <span class="p">]</span>
<a id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="n">new_interval</span> <span class="o">=</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
<a id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="n">lo_limit</span> <span class="o">=</span> <span class="n">find</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<a id="__codelineno-1-6" name="__codelineno-1-6"></a><span class="n">up_limit</span> <span class="o">=</span> <span class="n">find</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<a id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="n">new_A</span> <span class="o">=</span> <span class="n">A</span><span class="p">[:</span><span class="n">lo_limit</span><span class="p">]</span> <span class="o">+</span> <span class="n">new_interval</span> <span class="o">+</span> <span class="n">A</span><span class="p">[</span><span class="n">up_limit</span><span class="p">:]</span>
<a id="__codelineno-1-8" name="__codelineno-1-8"></a><span class="c1"># new_A = A[:2] + new_interval + A[2:]</span>
</code></pre></div></td></tr></table></div>
<p>This is only for the case of completely disjointed new interval. </p>
<p>The others have different lower and uppper limits.</p>
<p>However no matter which cases, the goal is in fact finding the slicing indices of the combined intervals.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code>index =  0  1   1   2   2   3  
#------------------------------
#     [ (1, lo, 4, hi) (7  9) ]

=&gt; A[0:2] = combined_intervals
</code></pre></div></td></tr></table></div>
<h2 id="in-case-of-lo">in case of lo<a class="headerlink" href="#in-case-of-lo" title="Permanent link">&para;</a></h2>
<p>First deal with lo.</p>
<p>There are 3 location where lo is possibly being inserted. That is:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code> (1   4)
^   ^   ^
a   b   c

a = left
b = middle
c = right
</code></pre></div></td></tr></table></div>
<p>case a:</p>
<blockquote>
<p>even
lo &lt;= 1</p>
</blockquote>
<p>case b:</p>
<blockquote>
<p>odd
1 &lt;= lo &lt; 4</p>
</blockquote>
<p>case c</p>
<blockquote>
<p>even
4 &lt;= lo</p>
</blockquote>
<p>Nevertheless, you should ask whether each position indicates consecutiveness or not. </p>
<p>Also, where should it be the new lowest point of the interval (lo, hi).</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-2-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-2-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-2-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-2-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-2-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-2-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-2-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-2-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-2-10">10</a></span>
<span class="normal"><a href="#__codelineno-2-11">11</a></span>
<span class="normal"><a href="#__codelineno-2-12">12</a></span>
<span class="normal"><a href="#__codelineno-2-13">13</a></span>
<span class="normal"><a href="#__codelineno-2-14">14</a></span>
<span class="normal"><a href="#__codelineno-2-15">15</a></span>
<span class="normal"><a href="#__codelineno-2-16">16</a></span>
<span class="normal"><a href="#__codelineno-2-17">17</a></span>
<span class="normal"><a href="#__codelineno-2-18">18</a></span>
<span class="normal"><a href="#__codelineno-2-19">19</a></span>
<span class="normal"><a href="#__codelineno-2-20">20</a></span>
<span class="normal"><a href="#__codelineno-2-21">21</a></span>
<span class="normal"><a href="#__codelineno-2-22">22</a></span>
<span class="normal"><a href="#__codelineno-2-23">23</a></span>
<span class="normal"><a href="#__codelineno-2-24">24</a></span>
<span class="normal"><a href="#__codelineno-2-25">25</a></span>
<span class="normal"><a href="#__codelineno-2-26">26</a></span>
<span class="normal"><a href="#__codelineno-2-27">27</a></span>
<span class="normal"><a href="#__codelineno-2-28">28</a></span>
<span class="normal"><a href="#__codelineno-2-29">29</a></span>
<span class="normal"><a href="#__codelineno-2-30">30</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="kn">from</span> <span class="nn">bisect</span> <span class="kn">import</span> <span class="n">bisect</span> <span class="k">as</span> <span class="n">find</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="n">A</span> <span class="o">=</span> <span class="p">[</span> <span class="p">(</span><span class="mi">1</span> <span class="mi">4</span><span class="p">)</span> <span class="p">(</span><span class="mi">7</span> <span class="mi">9</span><span class="p">)</span> <span class="p">]</span>
<a id="__codelineno-2-4" name="__codelineno-2-4"></a><span class="n">new</span> <span class="o">=</span> <span class="p">(</span><span class="n">lo</span><span class="p">,</span> <span class="n">hi</span><span class="p">)</span>
<a id="__codelineno-2-5" name="__codelineno-2-5"></a>
<a id="__codelineno-2-6" name="__codelineno-2-6"></a><span class="n">i</span> <span class="o">=</span> <span class="n">find</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">lo</span><span class="p">)</span>
<a id="__codelineno-2-7" name="__codelineno-2-7"></a>
<a id="__codelineno-2-8" name="__codelineno-2-8"></a><span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span><span class="p">:</span>  <span class="c1"># i is odd</span>
<a id="__codelineno-2-9" name="__codelineno-2-9"></a>    <span class="c1"># case b</span>
<a id="__codelineno-2-10" name="__codelineno-2-10"></a>    <span class="c1"># since lo is within the interval, </span>
<a id="__codelineno-2-11" name="__codelineno-2-11"></a>    <span class="c1"># the lowest point is left boundary of that interval</span>
<a id="__codelineno-2-12" name="__codelineno-2-12"></a>    <span class="n">lowest</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<a id="__codelineno-2-13" name="__codelineno-2-13"></a>
<a id="__codelineno-2-14" name="__codelineno-2-14"></a><span class="k">else</span><span class="p">:</span>  <span class="c1"># i is even</span>
<a id="__codelineno-2-15" name="__codelineno-2-15"></a>    <span class="c1"># case a</span>
<a id="__codelineno-2-16" name="__codelineno-2-16"></a>    <span class="c1"># if lo==1, this is True. </span>
<a id="__codelineno-2-17" name="__codelineno-2-17"></a>    <span class="c1"># if lo&lt;1, this is also True.</span>
<a id="__codelineno-2-18" name="__codelineno-2-18"></a>    <span class="c1"># if lo&lt;1, it means that (1, 4) is inside (lo, hi),</span>
<a id="__codelineno-2-19" name="__codelineno-2-19"></a>    <span class="c1"># so the lowest point is lo.</span>
<a id="__codelineno-2-20" name="__codelineno-2-20"></a>    <span class="k">if</span> <span class="n">lo</span> <span class="o">&lt;=</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
<a id="__codelineno-2-21" name="__codelineno-2-21"></a>        <span class="n">lowest</span> <span class="o">=</span> <span class="n">lo</span>  
<a id="__codelineno-2-22" name="__codelineno-2-22"></a>
<a id="__codelineno-2-23" name="__codelineno-2-23"></a>    <span class="c1"># case c</span>
<a id="__codelineno-2-24" name="__codelineno-2-24"></a>    <span class="k">else</span><span class="p">:</span>   <span class="c1"># A[i-1] &lt; lo</span>
<a id="__codelineno-2-25" name="__codelineno-2-25"></a>        <span class="c1"># disjoint</span>
<a id="__codelineno-2-26" name="__codelineno-2-26"></a>        <span class="k">if</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">lo</span><span class="p">:</span> 
<a id="__codelineno-2-27" name="__codelineno-2-27"></a>            <span class="n">lowest</span> <span class="o">=</span> <span class="n">lo</span>
<a id="__codelineno-2-28" name="__codelineno-2-28"></a>        <span class="c1"># connected </span>
<a id="__codelineno-2-29" name="__codelineno-2-29"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-2-30" name="__codelineno-2-30"></a>            <span class="n">lowest</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
<h2 id="boundary-case">boundary case<a class="headerlink" href="#boundary-case" title="Permanent link">&para;</a></h2>
<p>What if lo is the smallest number and find(A, lo)==0 ? </p>
<p>There is a output value of A[i-1], when i=1, it become A[-1] and this is a bug. </p>
<p>Also You have to cover this boundary case. </p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code>if i==0:
    # do something
else:
    # do other things
</code></pre></div></td></tr></table></div>
<p>Becase of this bisection, situations that you have to included in the <code>else</code> is the following:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code>(1   4)
   ^    ^
   b    c

b = middle
c = right
</code></pre></div></td></tr></table></div>
<p>case b:</p>
<blockquote>
<p>odd
1 &lt;= lo &lt; 4</p>
</blockquote>
<p>case c</p>
<blockquote>
<p>even
4 &lt;= lo</p>
</blockquote>
<p>This means that either connected or disjointed.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-3-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-3-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-3-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-3-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-3-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-3-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-3-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-3-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-3-10">10</a></span>
<span class="normal"><a href="#__codelineno-3-11">11</a></span>
<span class="normal"><a href="#__codelineno-3-12">12</a></span>
<span class="normal"><a href="#__codelineno-3-13">13</a></span>
<span class="normal"><a href="#__codelineno-3-14">14</a></span>
<span class="normal"><a href="#__codelineno-3-15">15</a></span>
<span class="normal"><a href="#__codelineno-3-16">16</a></span>
<span class="normal"><a href="#__codelineno-3-17">17</a></span>
<span class="normal"><a href="#__codelineno-3-18">18</a></span>
<span class="normal"><a href="#__codelineno-3-19">19</a></span>
<span class="normal"><a href="#__codelineno-3-20">20</a></span>
<span class="normal"><a href="#__codelineno-3-21">21</a></span>
<span class="normal"><a href="#__codelineno-3-22">22</a></span>
<span class="normal"><a href="#__codelineno-3-23">23</a></span>
<span class="normal"><a href="#__codelineno-3-24">24</a></span>
<span class="normal"><a href="#__codelineno-3-25">25</a></span>
<span class="normal"><a href="#__codelineno-3-26">26</a></span>
<span class="normal"><a href="#__codelineno-3-27">27</a></span>
<span class="normal"><a href="#__codelineno-3-28">28</a></span>
<span class="normal"><a href="#__codelineno-3-29">29</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="kn">from</span> <span class="nn">bisect</span> <span class="kn">import</span> <span class="n">bisect</span> <span class="k">as</span> <span class="n">find</span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a>
<a id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="n">A</span> <span class="o">=</span> <span class="p">[</span> <span class="p">(</span><span class="mi">1</span> <span class="mi">4</span><span class="p">)</span> <span class="p">(</span><span class="mi">7</span> <span class="mi">9</span><span class="p">)</span> <span class="p">]</span>
<a id="__codelineno-3-4" name="__codelineno-3-4"></a><span class="n">new</span> <span class="o">=</span> <span class="p">(</span><span class="n">lo</span><span class="p">,</span> <span class="n">hi</span><span class="p">)</span>
<a id="__codelineno-3-5" name="__codelineno-3-5"></a>
<a id="__codelineno-3-6" name="__codelineno-3-6"></a><span class="k">def</span> <span class="nf">find_lowest</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">lo</span><span class="p">):</span>
<a id="__codelineno-3-7" name="__codelineno-3-7"></a>    <span class="n">i</span> <span class="o">=</span> <span class="n">find</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">lo</span><span class="p">)</span>
<a id="__codelineno-3-8" name="__codelineno-3-8"></a>
<a id="__codelineno-3-9" name="__codelineno-3-9"></a><span class="hll">    <span class="c1"># boundary case</span>
</span><a id="__codelineno-3-10" name="__codelineno-3-10"></a><span class="hll">    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><a id="__codelineno-3-11" name="__codelineno-3-11"></a><span class="hll">        <span class="n">lowest</span> <span class="o">=</span> <span class="mi">0</span>
</span><a id="__codelineno-3-12" name="__codelineno-3-12"></a>
<a id="__codelineno-3-13" name="__codelineno-3-13"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-3-14" name="__codelineno-3-14"></a>        <span class="c1"># i is odd, case b</span>
<a id="__codelineno-3-15" name="__codelineno-3-15"></a>        <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span><span class="p">:</span>  
<a id="__codelineno-3-16" name="__codelineno-3-16"></a>            <span class="c1"># since lo is within the interval, </span>
<a id="__codelineno-3-17" name="__codelineno-3-17"></a>            <span class="c1"># the lowest point is left boundary of that interval</span>
<a id="__codelineno-3-18" name="__codelineno-3-18"></a>            <span class="n">lowest</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<a id="__codelineno-3-19" name="__codelineno-3-19"></a>
<a id="__codelineno-3-20" name="__codelineno-3-20"></a>        <span class="c1"># i is even, case c</span>
<a id="__codelineno-3-21" name="__codelineno-3-21"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-3-22" name="__codelineno-3-22"></a>            <span class="c1"># disjoint</span>
<a id="__codelineno-3-23" name="__codelineno-3-23"></a>            <span class="k">if</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">lo</span><span class="p">:</span> 
<a id="__codelineno-3-24" name="__codelineno-3-24"></a>                <span class="n">lowest</span> <span class="o">=</span> <span class="n">lo</span>
<a id="__codelineno-3-25" name="__codelineno-3-25"></a>            <span class="c1"># connected </span>
<a id="__codelineno-3-26" name="__codelineno-3-26"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-3-27" name="__codelineno-3-27"></a>                <span class="n">lowest</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
<a id="__codelineno-3-28" name="__codelineno-3-28"></a>
<a id="__codelineno-3-29" name="__codelineno-3-29"></a>    <span class="k">return</span> <span class="n">lowest</span>
</code></pre></div></td></tr></table></div>
<h2 id="slicing-index">slicing index<a class="headerlink" href="#slicing-index" title="Permanent link">&para;</a></h2>
<p>And this is not enough. After finding the lowest and highest point, you have to combine intervals and update the list. </p>
<p>Therefore it is necessary to output the lower and upper limits for slicing in the same time.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-4-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-4-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-4-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-4-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-4-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-4-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-4-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-4-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-4-10">10</a></span>
<span class="normal"><a href="#__codelineno-4-11">11</a></span>
<span class="normal"><a href="#__codelineno-4-12">12</a></span>
<span class="normal"><a href="#__codelineno-4-13">13</a></span>
<span class="normal"><a href="#__codelineno-4-14">14</a></span>
<span class="normal"><a href="#__codelineno-4-15">15</a></span>
<span class="normal"><a href="#__codelineno-4-16">16</a></span>
<span class="normal"><a href="#__codelineno-4-17">17</a></span>
<span class="normal"><a href="#__codelineno-4-18">18</a></span>
<span class="normal"><a href="#__codelineno-4-19">19</a></span>
<span class="normal"><a href="#__codelineno-4-20">20</a></span>
<span class="normal"><a href="#__codelineno-4-21">21</a></span>
<span class="normal"><a href="#__codelineno-4-22">22</a></span>
<span class="normal"><a href="#__codelineno-4-23">23</a></span>
<span class="normal"><a href="#__codelineno-4-24">24</a></span>
<span class="normal"><a href="#__codelineno-4-25">25</a></span>
<span class="normal"><a href="#__codelineno-4-26">26</a></span>
<span class="normal"><a href="#__codelineno-4-27">27</a></span>
<span class="normal"><a href="#__codelineno-4-28">28</a></span>
<span class="normal"><a href="#__codelineno-4-29">29</a></span>
<span class="normal"><a href="#__codelineno-4-30">30</a></span>
<span class="normal"><a href="#__codelineno-4-31">31</a></span>
<span class="normal"><a href="#__codelineno-4-32">32</a></span>
<span class="normal"><a href="#__codelineno-4-33">33</a></span>
<span class="normal"><a href="#__codelineno-4-34">34</a></span>
<span class="normal"><a href="#__codelineno-4-35">35</a></span>
<span class="normal"><a href="#__codelineno-4-36">36</a></span>
<span class="normal"><a href="#__codelineno-4-37">37</a></span>
<span class="normal"><a href="#__codelineno-4-38">38</a></span>
<span class="normal"><a href="#__codelineno-4-39">39</a></span>
<span class="normal"><a href="#__codelineno-4-40">40</a></span>
<span class="normal"><a href="#__codelineno-4-41">41</a></span>
<span class="normal"><a href="#__codelineno-4-42">42</a></span>
<span class="normal"><a href="#__codelineno-4-43">43</a></span>
<span class="normal"><a href="#__codelineno-4-44">44</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="kn">from</span> <span class="nn">bisect</span> <span class="kn">import</span> <span class="n">bisect</span> <span class="k">as</span> <span class="n">find</span>
<a id="__codelineno-4-2" name="__codelineno-4-2"></a>
<a id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="n">A</span> <span class="o">=</span> <span class="p">[</span> <span class="p">(</span><span class="mi">1</span> <span class="mi">4</span><span class="p">)</span> <span class="p">(</span><span class="mi">7</span> <span class="mi">9</span><span class="p">)</span> <span class="p">]</span>
<a id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="n">new</span> <span class="o">=</span> <span class="p">(</span><span class="n">lo</span><span class="p">,</span> <span class="n">hi</span><span class="p">)</span>
<a id="__codelineno-4-5" name="__codelineno-4-5"></a>
<a id="__codelineno-4-6" name="__codelineno-4-6"></a><span class="k">def</span> <span class="nf">find_lowest</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">lo</span><span class="p">):</span>
<a id="__codelineno-4-7" name="__codelineno-4-7"></a><span class="hll">    <span class="n">i</span> <span class="o">=</span> <span class="n">find</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">lo</span><span class="p">)</span>
</span><a id="__codelineno-4-8" name="__codelineno-4-8"></a>
<a id="__codelineno-4-9" name="__codelineno-4-9"></a>    <span class="c1"># boundary case</span>
<a id="__codelineno-4-10" name="__codelineno-4-10"></a>    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-4-11" name="__codelineno-4-11"></a>        <span class="n">lowest</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>  <span class="c1"># limit@0</span>
<a id="__codelineno-4-12" name="__codelineno-4-12"></a>
<a id="__codelineno-4-13" name="__codelineno-4-13"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-4-14" name="__codelineno-4-14"></a>        <span class="c1"># i is odd, case b</span>
<a id="__codelineno-4-15" name="__codelineno-4-15"></a>        <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span><span class="p">:</span>  
<a id="__codelineno-4-16" name="__codelineno-4-16"></a>            <span class="c1"># since lo is within the interval, </span>
<a id="__codelineno-4-17" name="__codelineno-4-17"></a>            <span class="c1"># the lowest point is left boundary of that interval</span>
<a id="__codelineno-4-18" name="__codelineno-4-18"></a><span class="hll">            <span class="n">lowest</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">i</span><span class="o">-</span><span class="mi">1</span>
</span><a id="__codelineno-4-19" name="__codelineno-4-19"></a>
<a id="__codelineno-4-20" name="__codelineno-4-20"></a>        <span class="c1"># i is even, case c</span>
<a id="__codelineno-4-21" name="__codelineno-4-21"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-4-22" name="__codelineno-4-22"></a>            <span class="c1"># disjoint</span>
<a id="__codelineno-4-23" name="__codelineno-4-23"></a>            <span class="k">if</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">lo</span><span class="p">:</span> 
<a id="__codelineno-4-24" name="__codelineno-4-24"></a><span class="hll">                <span class="n">lowest</span> <span class="o">=</span> <span class="n">lo</span><span class="p">,</span> <span class="n">i</span>
</span><a id="__codelineno-4-25" name="__codelineno-4-25"></a>            <span class="c1"># connected </span>
<a id="__codelineno-4-26" name="__codelineno-4-26"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-4-27" name="__codelineno-4-27"></a><span class="hll">                <span class="n">lowest</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="n">i</span><span class="o">-</span><span class="mi">2</span>
</span><a id="__codelineno-4-28" name="__codelineno-4-28"></a>
<a id="__codelineno-4-29" name="__codelineno-4-29"></a>    <span class="k">return</span> <span class="n">lowest</span>
<a id="__codelineno-4-30" name="__codelineno-4-30"></a>
<a id="__codelineno-4-31" name="__codelineno-4-31"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">find_lowest</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-4-32" name="__codelineno-4-32"></a><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-4-33" name="__codelineno-4-33"></a>
<a id="__codelineno-4-34" name="__codelineno-4-34"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">find_lowest</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-4-35" name="__codelineno-4-35"></a><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-4-36" name="__codelineno-4-36"></a>
<a id="__codelineno-4-37" name="__codelineno-4-37"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">find_lowest</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<a id="__codelineno-4-38" name="__codelineno-4-38"></a><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-4-39" name="__codelineno-4-39"></a>
<a id="__codelineno-4-40" name="__codelineno-4-40"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">find_lowest</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<a id="__codelineno-4-41" name="__codelineno-4-41"></a><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-4-42" name="__codelineno-4-42"></a>
<a id="__codelineno-4-43" name="__codelineno-4-43"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">find_lowest</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<a id="__codelineno-4-44" name="__codelineno-4-44"></a><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<h2 id="in-case-of-hi">in case of hi<a class="headerlink" href="#in-case-of-hi" title="Permanent link">&para;</a></h2>
<p>hi is almost the same.</p>
<p>There are 3 location where lo is possibly being inserted. That is:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code> (7   9)
^   ^   
a   b

a = left
b = middle
</code></pre></div></td></tr></table></div>
<p>case a:</p>
<blockquote>
<p>even
hi &lt; 7</p>
</blockquote>
<p>case b:</p>
<blockquote>
<p>odd
7 &lt;= hi &lt; 9</p>
</blockquote>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-5-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-5-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-5-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-5-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-5-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-5-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-5-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-5-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-5-10">10</a></span>
<span class="normal"><a href="#__codelineno-5-11">11</a></span>
<span class="normal"><a href="#__codelineno-5-12">12</a></span>
<span class="normal"><a href="#__codelineno-5-13">13</a></span>
<span class="normal"><a href="#__codelineno-5-14">14</a></span>
<span class="normal"><a href="#__codelineno-5-15">15</a></span>
<span class="normal"><a href="#__codelineno-5-16">16</a></span>
<span class="normal"><a href="#__codelineno-5-17">17</a></span>
<span class="normal"><a href="#__codelineno-5-18">18</a></span>
<span class="normal"><a href="#__codelineno-5-19">19</a></span>
<span class="normal"><a href="#__codelineno-5-20">20</a></span>
<span class="normal"><a href="#__codelineno-5-21">21</a></span>
<span class="normal"><a href="#__codelineno-5-22">22</a></span>
<span class="normal"><a href="#__codelineno-5-23">23</a></span>
<span class="normal"><a href="#__codelineno-5-24">24</a></span>
<span class="normal"><a href="#__codelineno-5-25">25</a></span>
<span class="normal"><a href="#__codelineno-5-26">26</a></span>
<span class="normal"><a href="#__codelineno-5-27">27</a></span>
<span class="normal"><a href="#__codelineno-5-28">28</a></span>
<span class="normal"><a href="#__codelineno-5-29">29</a></span>
<span class="normal"><a href="#__codelineno-5-30">30</a></span>
<span class="normal"><a href="#__codelineno-5-31">31</a></span>
<span class="normal"><a href="#__codelineno-5-32">32</a></span>
<span class="normal"><a href="#__codelineno-5-33">33</a></span>
<span class="normal"><a href="#__codelineno-5-34">34</a></span>
<span class="normal"><a href="#__codelineno-5-35">35</a></span>
<span class="normal"><a href="#__codelineno-5-36">36</a></span>
<span class="normal"><a href="#__codelineno-5-37">37</a></span>
<span class="normal"><a href="#__codelineno-5-38">38</a></span>
<span class="normal"><a href="#__codelineno-5-39">39</a></span>
<span class="normal"><a href="#__codelineno-5-40">40</a></span>
<span class="normal"><a href="#__codelineno-5-41">41</a></span>
<span class="normal"><a href="#__codelineno-5-42">42</a></span>
<span class="normal"><a href="#__codelineno-5-43">43</a></span>
<span class="normal"><a href="#__codelineno-5-44">44</a></span>
<span class="normal"><a href="#__codelineno-5-45">45</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="kn">from</span> <span class="nn">bisect</span> <span class="kn">import</span> <span class="n">bisect</span> <span class="k">as</span> <span class="n">find</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="n">A</span> <span class="o">=</span> <span class="p">[</span> <span class="p">(</span><span class="mi">1</span> <span class="mi">4</span><span class="p">)</span> <span class="p">(</span><span class="mi">7</span> <span class="mi">9</span><span class="p">)</span> <span class="p">]</span>
<a id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="n">new</span> <span class="o">=</span> <span class="p">(</span><span class="n">lo</span><span class="p">,</span> <span class="n">hi</span><span class="p">)</span>
<a id="__codelineno-5-5" name="__codelineno-5-5"></a>
<a id="__codelineno-5-6" name="__codelineno-5-6"></a><span class="k">def</span> <span class="nf">find_highest</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">hi</span><span class="p">):</span>
<a id="__codelineno-5-7" name="__codelineno-5-7"></a>    <span class="n">i</span> <span class="o">=</span> <span class="n">find</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">hi</span><span class="p">)</span>
<a id="__codelineno-5-8" name="__codelineno-5-8"></a>
<a id="__codelineno-5-9" name="__codelineno-5-9"></a>    <span class="c1"># boundary case</span>
<a id="__codelineno-5-10" name="__codelineno-5-10"></a>    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">A</span><span class="p">):</span>
<a id="__codelineno-5-11" name="__codelineno-5-11"></a>        <span class="n">highest</span> <span class="o">=</span> <span class="n">hi</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<a id="__codelineno-5-12" name="__codelineno-5-12"></a>
<a id="__codelineno-5-13" name="__codelineno-5-13"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-5-14" name="__codelineno-5-14"></a>        <span class="c1"># i is odd, case b</span>
<a id="__codelineno-5-15" name="__codelineno-5-15"></a>        <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span><span class="p">:</span>  
<a id="__codelineno-5-16" name="__codelineno-5-16"></a>            <span class="c1"># since hi is within the interval, </span>
<a id="__codelineno-5-17" name="__codelineno-5-17"></a>            <span class="c1"># the highest point is right boundary of that interval</span>
<a id="__codelineno-5-18" name="__codelineno-5-18"></a>            <span class="n">highest</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">i</span>  <span class="c1"># be careful with python indexing</span>
<a id="__codelineno-5-19" name="__codelineno-5-19"></a>
<a id="__codelineno-5-20" name="__codelineno-5-20"></a>        <span class="c1"># i is even, case a</span>
<a id="__codelineno-5-21" name="__codelineno-5-21"></a>        <span class="k">else</span><span class="p">:</span>  
<a id="__codelineno-5-22" name="__codelineno-5-22"></a>            <span class="k">if</span> <span class="n">hi</span> <span class="o">&lt;</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
<a id="__codelineno-5-23" name="__codelineno-5-23"></a>                <span class="c1"># disjointed </span>
<a id="__codelineno-5-24" name="__codelineno-5-24"></a>                <span class="n">highest</span> <span class="o">=</span> <span class="n">hi</span><span class="p">,</span> <span class="n">i</span>
<a id="__codelineno-5-25" name="__codelineno-5-25"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-5-26" name="__codelineno-5-26"></a>                <span class="n">highest</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">i</span><span class="o">+</span><span class="mi">2</span>  <span class="c1"># be careful with python indexing</span>
<a id="__codelineno-5-27" name="__codelineno-5-27"></a>                <span class="c1"># [ ... hi 7 9  ... ] </span>
<a id="__codelineno-5-28" name="__codelineno-5-28"></a>                <span class="c1">#          ^ find(A,i) return index:i of this position</span>
<a id="__codelineno-5-29" name="__codelineno-5-29"></a>
<a id="__codelineno-5-30" name="__codelineno-5-30"></a>    <span class="k">return</span> <span class="n">highest</span>
<a id="__codelineno-5-31" name="__codelineno-5-31"></a>
<a id="__codelineno-5-32" name="__codelineno-5-32"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">find_highest</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<a id="__codelineno-5-33" name="__codelineno-5-33"></a><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-5-34" name="__codelineno-5-34"></a>
<a id="__codelineno-5-35" name="__codelineno-5-35"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">find_right_lowest</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<a id="__codelineno-5-36" name="__codelineno-5-36"></a><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<a id="__codelineno-5-37" name="__codelineno-5-37"></a>
<a id="__codelineno-5-38" name="__codelineno-5-38"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">find_right_lowest</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
<a id="__codelineno-5-39" name="__codelineno-5-39"></a><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<a id="__codelineno-5-40" name="__codelineno-5-40"></a>
<a id="__codelineno-5-41" name="__codelineno-5-41"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">find_right_lowest</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
<a id="__codelineno-5-42" name="__codelineno-5-42"></a><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<a id="__codelineno-5-43" name="__codelineno-5-43"></a>
<a id="__codelineno-5-44" name="__codelineno-5-44"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">find_right_lowest</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<a id="__codelineno-5-45" name="__codelineno-5-45"></a><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<h2 id="find-maximun-length">find maximun length<a class="headerlink" href="#find-maximun-length" title="Permanent link">&para;</a></h2>
<p>You have to loop through the list of intervals. </p>
<p>Check if one interval can combine with the others. </p>
<p>During the process, you keep track of the length of the combined interval to see if it has maximun length.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-6-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-6-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-6-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-6-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-6-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-6-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-6-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-6-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-6-10">10</a></span>
<span class="normal"><a href="#__codelineno-6-11">11</a></span>
<span class="normal"><a href="#__codelineno-6-12">12</a></span>
<span class="normal"><a href="#__codelineno-6-13">13</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="k">def</span> <span class="nf">find_maximum_len</span><span class="p">(</span><span class="n">intervals</span><span class="p">):</span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a>    <span class="n">maximun</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-6-3" name="__codelineno-6-3"></a>    <span class="n">A</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-6-4" name="__codelineno-6-4"></a>
<a id="__codelineno-6-5" name="__codelineno-6-5"></a>    <span class="k">for</span> <span class="n">new_interval</span> <span class="ow">in</span> <span class="n">intervals</span><span class="p">:</span>
<a id="__codelineno-6-6" name="__codelineno-6-6"></a>
<a id="__codelineno-6-7" name="__codelineno-6-7"></a>        <span class="c1"># process the new_interval here</span>
<a id="__codelineno-6-8" name="__codelineno-6-8"></a>
<a id="__codelineno-6-9" name="__codelineno-6-9"></a>        <span class="n">is_this_max</span> <span class="o">=</span> <span class="n">combined_interval</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">combined_interval</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-6-10" name="__codelineno-6-10"></a>        <span class="k">if</span> <span class="n">is_this_max</span> <span class="o">&gt;</span> <span class="n">maximun</span><span class="p">:</span>
<a id="__codelineno-6-11" name="__codelineno-6-11"></a>            <span class="n">maximum</span> <span class="o">=</span> <span class="n">is_this_max</span>
<a id="__codelineno-6-12" name="__codelineno-6-12"></a>
<a id="__codelineno-6-13" name="__codelineno-6-13"></a>    <span class="k">return</span> <span class="n">i</span>
</code></pre></div></td></tr></table></div>
<h1 id="wrap-everything-up">Wrap Everything Up<a class="headerlink" href="#wrap-everything-up" title="Permanent link">&para;</a></h1>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-7-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-7-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-7-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-7-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-7-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-7-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-7-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-7-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-7-10">10</a></span>
<span class="normal"><a href="#__codelineno-7-11">11</a></span>
<span class="normal"><a href="#__codelineno-7-12">12</a></span>
<span class="normal"><a href="#__codelineno-7-13">13</a></span>
<span class="normal"><a href="#__codelineno-7-14">14</a></span>
<span class="normal"><a href="#__codelineno-7-15">15</a></span>
<span class="normal"><a href="#__codelineno-7-16">16</a></span>
<span class="normal"><a href="#__codelineno-7-17">17</a></span>
<span class="normal"><a href="#__codelineno-7-18">18</a></span>
<span class="normal"><a href="#__codelineno-7-19">19</a></span>
<span class="normal"><a href="#__codelineno-7-20">20</a></span>
<span class="normal"><a href="#__codelineno-7-21">21</a></span>
<span class="normal"><a href="#__codelineno-7-22">22</a></span>
<span class="normal"><a href="#__codelineno-7-23">23</a></span>
<span class="normal"><a href="#__codelineno-7-24">24</a></span>
<span class="normal"><a href="#__codelineno-7-25">25</a></span>
<span class="normal"><a href="#__codelineno-7-26">26</a></span>
<span class="normal"><a href="#__codelineno-7-27">27</a></span>
<span class="normal"><a href="#__codelineno-7-28">28</a></span>
<span class="normal"><a href="#__codelineno-7-29">29</a></span>
<span class="normal"><a href="#__codelineno-7-30">30</a></span>
<span class="normal"><a href="#__codelineno-7-31">31</a></span>
<span class="normal"><a href="#__codelineno-7-32">32</a></span>
<span class="normal"><a href="#__codelineno-7-33">33</a></span>
<span class="normal"><a href="#__codelineno-7-34">34</a></span>
<span class="normal"><a href="#__codelineno-7-35">35</a></span>
<span class="normal"><a href="#__codelineno-7-36">36</a></span>
<span class="normal"><a href="#__codelineno-7-37">37</a></span>
<span class="normal"><a href="#__codelineno-7-38">38</a></span>
<span class="normal"><a href="#__codelineno-7-39">39</a></span>
<span class="normal"><a href="#__codelineno-7-40">40</a></span>
<span class="normal"><a href="#__codelineno-7-41">41</a></span>
<span class="normal"><a href="#__codelineno-7-42">42</a></span>
<span class="normal"><a href="#__codelineno-7-43">43</a></span>
<span class="normal"><a href="#__codelineno-7-44">44</a></span>
<span class="normal"><a href="#__codelineno-7-45">45</a></span>
<span class="normal"><a href="#__codelineno-7-46">46</a></span>
<span class="normal"><a href="#__codelineno-7-47">47</a></span>
<span class="normal"><a href="#__codelineno-7-48">48</a></span>
<span class="normal"><a href="#__codelineno-7-49">49</a></span>
<span class="normal"><a href="#__codelineno-7-50">50</a></span>
<span class="normal"><a href="#__codelineno-7-51">51</a></span>
<span class="normal"><a href="#__codelineno-7-52">52</a></span>
<span class="normal"><a href="#__codelineno-7-53">53</a></span>
<span class="normal"><a href="#__codelineno-7-54">54</a></span>
<span class="normal"><a href="#__codelineno-7-55">55</a></span>
<span class="normal"><a href="#__codelineno-7-56">56</a></span>
<span class="normal"><a href="#__codelineno-7-57">57</a></span>
<span class="normal"><a href="#__codelineno-7-58">58</a></span>
<span class="normal"><a href="#__codelineno-7-59">59</a></span>
<span class="normal"><a href="#__codelineno-7-60">60</a></span>
<span class="normal"><a href="#__codelineno-7-61">61</a></span>
<span class="normal"><a href="#__codelineno-7-62">62</a></span>
<span class="normal"><a href="#__codelineno-7-63">63</a></span>
<span class="normal"><a href="#__codelineno-7-64">64</a></span>
<span class="normal"><a href="#__codelineno-7-65">65</a></span>
<span class="normal"><a href="#__codelineno-7-66">66</a></span>
<span class="normal"><a href="#__codelineno-7-67">67</a></span>
<span class="normal"><a href="#__codelineno-7-68">68</a></span>
<span class="normal"><a href="#__codelineno-7-69">69</a></span>
<span class="normal"><a href="#__codelineno-7-70">70</a></span>
<span class="normal"><a href="#__codelineno-7-71">71</a></span>
<span class="normal"><a href="#__codelineno-7-72">72</a></span>
<span class="normal"><a href="#__codelineno-7-73">73</a></span>
<span class="normal"><a href="#__codelineno-7-74">74</a></span>
<span class="normal"><a href="#__codelineno-7-75">75</a></span>
<span class="normal"><a href="#__codelineno-7-76">76</a></span>
<span class="normal"><a href="#__codelineno-7-77">77</a></span>
<span class="normal"><a href="#__codelineno-7-78">78</a></span>
<span class="normal"><a href="#__codelineno-7-79">79</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="kn">from</span> <span class="nn">bisect</span> <span class="kn">import</span> <span class="n">bisect</span> <span class="k">as</span> <span class="n">find</span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a><span class="k">def</span> <span class="nf">find_lowest</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">lo</span><span class="p">):</span>
<a id="__codelineno-7-4" name="__codelineno-7-4"></a>    <span class="n">i</span> <span class="o">=</span> <span class="n">find</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">lo</span><span class="p">)</span>
<a id="__codelineno-7-5" name="__codelineno-7-5"></a>
<a id="__codelineno-7-6" name="__codelineno-7-6"></a>    <span class="c1"># boundary case</span>
<a id="__codelineno-7-7" name="__codelineno-7-7"></a>    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-7-8" name="__codelineno-7-8"></a>        <span class="n">lowest</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>  <span class="c1"># limit@0</span>
<a id="__codelineno-7-9" name="__codelineno-7-9"></a>
<a id="__codelineno-7-10" name="__codelineno-7-10"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-7-11" name="__codelineno-7-11"></a>        <span class="c1"># i is odd, case b</span>
<a id="__codelineno-7-12" name="__codelineno-7-12"></a>        <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span><span class="p">:</span>  
<a id="__codelineno-7-13" name="__codelineno-7-13"></a>            <span class="c1"># since lo is within the interval, </span>
<a id="__codelineno-7-14" name="__codelineno-7-14"></a>            <span class="c1"># the lowest point is left boundary of that interval</span>
<a id="__codelineno-7-15" name="__codelineno-7-15"></a>            <span class="n">lowest</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">i</span><span class="o">-</span><span class="mi">1</span>
<a id="__codelineno-7-16" name="__codelineno-7-16"></a>
<a id="__codelineno-7-17" name="__codelineno-7-17"></a>        <span class="c1"># i is even, case c</span>
<a id="__codelineno-7-18" name="__codelineno-7-18"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-7-19" name="__codelineno-7-19"></a>            <span class="c1"># disjoint</span>
<a id="__codelineno-7-20" name="__codelineno-7-20"></a>            <span class="k">if</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">lo</span><span class="p">:</span> 
<a id="__codelineno-7-21" name="__codelineno-7-21"></a>                <span class="n">lowest</span> <span class="o">=</span> <span class="n">lo</span><span class="p">,</span> <span class="n">i</span>
<a id="__codelineno-7-22" name="__codelineno-7-22"></a>            <span class="c1"># connected </span>
<a id="__codelineno-7-23" name="__codelineno-7-23"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-7-24" name="__codelineno-7-24"></a>                <span class="n">lowest</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="n">i</span><span class="o">-</span><span class="mi">2</span>
<a id="__codelineno-7-25" name="__codelineno-7-25"></a>
<a id="__codelineno-7-26" name="__codelineno-7-26"></a>    <span class="k">return</span> <span class="n">lowest</span>
<a id="__codelineno-7-27" name="__codelineno-7-27"></a>
<a id="__codelineno-7-28" name="__codelineno-7-28"></a>
<a id="__codelineno-7-29" name="__codelineno-7-29"></a><span class="k">def</span> <span class="nf">find_highest</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">hi</span><span class="p">):</span>
<a id="__codelineno-7-30" name="__codelineno-7-30"></a>    <span class="n">i</span> <span class="o">=</span> <span class="n">find</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">hi</span><span class="p">)</span>
<a id="__codelineno-7-31" name="__codelineno-7-31"></a>
<a id="__codelineno-7-32" name="__codelineno-7-32"></a>    <span class="c1"># boundary case</span>
<a id="__codelineno-7-33" name="__codelineno-7-33"></a>    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">A</span><span class="p">):</span>
<a id="__codelineno-7-34" name="__codelineno-7-34"></a>        <span class="n">highest</span> <span class="o">=</span> <span class="n">hi</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<a id="__codelineno-7-35" name="__codelineno-7-35"></a>
<a id="__codelineno-7-36" name="__codelineno-7-36"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-7-37" name="__codelineno-7-37"></a>        <span class="c1"># i is odd, case b</span>
<a id="__codelineno-7-38" name="__codelineno-7-38"></a>        <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span><span class="p">:</span>  
<a id="__codelineno-7-39" name="__codelineno-7-39"></a>            <span class="c1"># since hi is within the interval, </span>
<a id="__codelineno-7-40" name="__codelineno-7-40"></a>            <span class="c1"># the highest point is right boundary of that interval</span>
<a id="__codelineno-7-41" name="__codelineno-7-41"></a>            <span class="n">highest</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">i</span>  <span class="c1"># be careful with python indexing</span>
<a id="__codelineno-7-42" name="__codelineno-7-42"></a>
<a id="__codelineno-7-43" name="__codelineno-7-43"></a>        <span class="c1"># i is even, case a</span>
<a id="__codelineno-7-44" name="__codelineno-7-44"></a>        <span class="k">else</span><span class="p">:</span>  
<a id="__codelineno-7-45" name="__codelineno-7-45"></a>            <span class="k">if</span> <span class="n">hi</span> <span class="o">&lt;</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
<a id="__codelineno-7-46" name="__codelineno-7-46"></a>                <span class="c1"># disjointed </span>
<a id="__codelineno-7-47" name="__codelineno-7-47"></a>                <span class="n">highest</span> <span class="o">=</span> <span class="n">hi</span><span class="p">,</span> <span class="n">i</span>
<a id="__codelineno-7-48" name="__codelineno-7-48"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-7-49" name="__codelineno-7-49"></a>                <span class="n">highest</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">i</span><span class="o">+</span><span class="mi">2</span>  <span class="c1"># be careful with python indexing</span>
<a id="__codelineno-7-50" name="__codelineno-7-50"></a>                <span class="c1"># [ ... hi 7 9  ... ] </span>
<a id="__codelineno-7-51" name="__codelineno-7-51"></a>                <span class="c1">#          ^ find(A,i) return index:i of this position</span>
<a id="__codelineno-7-52" name="__codelineno-7-52"></a>
<a id="__codelineno-7-53" name="__codelineno-7-53"></a>    <span class="k">return</span> <span class="n">highest</span>
<a id="__codelineno-7-54" name="__codelineno-7-54"></a>
<a id="__codelineno-7-55" name="__codelineno-7-55"></a>
<a id="__codelineno-7-56" name="__codelineno-7-56"></a><span class="k">def</span> <span class="nf">find_maximum_len</span><span class="p">(</span><span class="n">intervals</span><span class="p">):</span>
<a id="__codelineno-7-57" name="__codelineno-7-57"></a>    <span class="n">maximun</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-7-58" name="__codelineno-7-58"></a>    <span class="n">A</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-7-59" name="__codelineno-7-59"></a>
<a id="__codelineno-7-60" name="__codelineno-7-60"></a>    <span class="k">for</span> <span class="n">new_interval</span> <span class="ow">in</span> <span class="n">intervals</span><span class="p">:</span>
<a id="__codelineno-7-61" name="__codelineno-7-61"></a>        <span class="n">lo</span><span class="p">,</span> <span class="n">hi</span> <span class="o">=</span> <span class="n">new_interval</span>
<a id="__codelineno-7-62" name="__codelineno-7-62"></a>
<a id="__codelineno-7-63" name="__codelineno-7-63"></a>        <span class="c1"># combine intervals</span>
<a id="__codelineno-7-64" name="__codelineno-7-64"></a>        <span class="n">lo</span><span class="p">,</span> <span class="n">lo_limit</span> <span class="o">=</span> <span class="n">find_lowest</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">lo</span><span class="p">)</span>
<a id="__codelineno-7-65" name="__codelineno-7-65"></a>        <span class="n">hi</span><span class="p">,</span> <span class="n">up_limit</span> <span class="o">=</span> <span class="n">find_highest</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">hi</span><span class="p">)</span>
<a id="__codelineno-7-66" name="__codelineno-7-66"></a>
<a id="__codelineno-7-67" name="__codelineno-7-67"></a>        <span class="c1"># update the list</span>
<a id="__codelineno-7-68" name="__codelineno-7-68"></a>        <span class="n">A</span> <span class="o">=</span> <span class="n">A</span><span class="p">[:</span><span class="n">lo_limit</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">lo</span><span class="p">,</span> <span class="n">hi</span><span class="p">]</span> <span class="o">+</span> <span class="n">A</span><span class="p">[</span><span class="n">up_limit</span><span class="p">:]</span>
<a id="__codelineno-7-69" name="__codelineno-7-69"></a>
<a id="__codelineno-7-70" name="__codelineno-7-70"></a>        <span class="c1"># is this the largest consecutive interval?</span>
<a id="__codelineno-7-71" name="__codelineno-7-71"></a>        <span class="n">leng</span> <span class="o">=</span> <span class="n">lo</span> <span class="o">-</span> <span class="n">hi</span>
<a id="__codelineno-7-72" name="__codelineno-7-72"></a>        <span class="k">if</span> <span class="n">leng</span> <span class="o">&gt;</span> <span class="n">maximun</span><span class="p">:</span>
<a id="__codelineno-7-73" name="__codelineno-7-73"></a>            <span class="n">maximum</span> <span class="o">=</span> <span class="n">leng</span>
<a id="__codelineno-7-74" name="__codelineno-7-74"></a>
<a id="__codelineno-7-75" name="__codelineno-7-75"></a>    <span class="k">return</span> <span class="n">maximun</span><span class="o">+</span><span class="mi">1</span>
<a id="__codelineno-7-76" name="__codelineno-7-76"></a>
<a id="__codelineno-7-77" name="__codelineno-7-77"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">intervals</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">8</span><span class="p">)]</span>
<a id="__codelineno-7-78" name="__codelineno-7-78"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">find_maximum_len</span><span class="p">(</span><span class="n">intervals</span><span class="p">)</span>
<a id="__codelineno-7-79" name="__codelineno-7-79"></a><span class="mi">5</span>  <span class="c1"># (5 6 7 8 9)</span>
</code></pre></div></td></tr></table></div>
<h1 id="real-maxium-interval">Real Maxium Interval<a class="headerlink" href="#real-maxium-interval" title="Permanent link">&para;</a></h1>
<p>However there is a problem.</p>
<p>Everything before is saying that [1,2,3,4] is not consecutive with [5,6,7,8].</p>
<p>But they are actually consecutive. See, [1,2,3,4,5,6,7,8]. Thus the algorithm need some refinement.</p>
<p>For any arbitrary interval (lo, hi), you should also consider if (lo-1, hi+1) is consecutive with any other intervals. </p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-8-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-8-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-8-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-8-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-8-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-8-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-8-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-8-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-8-10">10</a></span>
<span class="normal"><a href="#__codelineno-8-11">11</a></span>
<span class="normal"><a href="#__codelineno-8-12">12</a></span>
<span class="normal"><a href="#__codelineno-8-13">13</a></span>
<span class="normal"><a href="#__codelineno-8-14">14</a></span>
<span class="normal"><a href="#__codelineno-8-15">15</a></span>
<span class="normal"><a href="#__codelineno-8-16">16</a></span>
<span class="normal"><a href="#__codelineno-8-17">17</a></span>
<span class="normal"><a href="#__codelineno-8-18">18</a></span>
<span class="normal"><a href="#__codelineno-8-19">19</a></span>
<span class="normal"><a href="#__codelineno-8-20">20</a></span>
<span class="normal"><a href="#__codelineno-8-21">21</a></span>
<span class="normal"><a href="#__codelineno-8-22">22</a></span>
<span class="normal"><a href="#__codelineno-8-23">23</a></span>
<span class="normal"><a href="#__codelineno-8-24">24</a></span>
<span class="normal"><a href="#__codelineno-8-25">25</a></span>
<span class="normal"><a href="#__codelineno-8-26">26</a></span>
<span class="normal"><a href="#__codelineno-8-27">27</a></span>
<span class="normal"><a href="#__codelineno-8-28">28</a></span>
<span class="normal"><a href="#__codelineno-8-29">29</a></span>
<span class="normal"><a href="#__codelineno-8-30">30</a></span>
<span class="normal"><a href="#__codelineno-8-31">31</a></span>
<span class="normal"><a href="#__codelineno-8-32">32</a></span>
<span class="normal"><a href="#__codelineno-8-33">33</a></span>
<span class="normal"><a href="#__codelineno-8-34">34</a></span>
<span class="normal"><a href="#__codelineno-8-35">35</a></span>
<span class="normal"><a href="#__codelineno-8-36">36</a></span>
<span class="normal"><a href="#__codelineno-8-37">37</a></span>
<span class="normal"><a href="#__codelineno-8-38">38</a></span>
<span class="normal"><a href="#__codelineno-8-39">39</a></span>
<span class="normal"><a href="#__codelineno-8-40">40</a></span>
<span class="normal"><a href="#__codelineno-8-41">41</a></span>
<span class="normal"><a href="#__codelineno-8-42">42</a></span>
<span class="normal"><a href="#__codelineno-8-43">43</a></span>
<span class="normal"><a href="#__codelineno-8-44">44</a></span>
<span class="normal"><a href="#__codelineno-8-45">45</a></span>
<span class="normal"><a href="#__codelineno-8-46">46</a></span>
<span class="normal"><a href="#__codelineno-8-47">47</a></span>
<span class="normal"><a href="#__codelineno-8-48">48</a></span>
<span class="normal"><a href="#__codelineno-8-49">49</a></span>
<span class="normal"><a href="#__codelineno-8-50">50</a></span>
<span class="normal"><a href="#__codelineno-8-51">51</a></span>
<span class="normal"><a href="#__codelineno-8-52">52</a></span>
<span class="normal"><a href="#__codelineno-8-53">53</a></span>
<span class="normal"><a href="#__codelineno-8-54">54</a></span>
<span class="normal"><a href="#__codelineno-8-55">55</a></span>
<span class="normal"><a href="#__codelineno-8-56">56</a></span>
<span class="normal"><a href="#__codelineno-8-57">57</a></span>
<span class="normal"><a href="#__codelineno-8-58">58</a></span>
<span class="normal"><a href="#__codelineno-8-59">59</a></span>
<span class="normal"><a href="#__codelineno-8-60">60</a></span>
<span class="normal"><a href="#__codelineno-8-61">61</a></span>
<span class="normal"><a href="#__codelineno-8-62">62</a></span>
<span class="normal"><a href="#__codelineno-8-63">63</a></span>
<span class="normal"><a href="#__codelineno-8-64">64</a></span>
<span class="normal"><a href="#__codelineno-8-65">65</a></span>
<span class="normal"><a href="#__codelineno-8-66">66</a></span>
<span class="normal"><a href="#__codelineno-8-67">67</a></span>
<span class="normal"><a href="#__codelineno-8-68">68</a></span>
<span class="normal"><a href="#__codelineno-8-69">69</a></span>
<span class="normal"><a href="#__codelineno-8-70">70</a></span>
<span class="normal"><a href="#__codelineno-8-71">71</a></span>
<span class="normal"><a href="#__codelineno-8-72">72</a></span>
<span class="normal"><a href="#__codelineno-8-73">73</a></span>
<span class="normal"><a href="#__codelineno-8-74">74</a></span>
<span class="normal"><a href="#__codelineno-8-75">75</a></span>
<span class="normal"><a href="#__codelineno-8-76">76</a></span>
<span class="normal"><a href="#__codelineno-8-77">77</a></span>
<span class="normal"><a href="#__codelineno-8-78">78</a></span>
<span class="normal"><a href="#__codelineno-8-79">79</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="kn">from</span> <span class="nn">bisect</span> <span class="kn">import</span> <span class="n">bisect</span> <span class="k">as</span> <span class="n">find</span>
<a id="__codelineno-8-2" name="__codelineno-8-2"></a>
<a id="__codelineno-8-3" name="__codelineno-8-3"></a><span class="k">def</span> <span class="nf">find_lowest</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">lo</span><span class="p">):</span>
<a id="__codelineno-8-4" name="__codelineno-8-4"></a>    <span class="n">i</span> <span class="o">=</span> <span class="n">find</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">lo</span><span class="p">)</span>
<a id="__codelineno-8-5" name="__codelineno-8-5"></a>
<a id="__codelineno-8-6" name="__codelineno-8-6"></a>    <span class="c1"># boundary case</span>
<a id="__codelineno-8-7" name="__codelineno-8-7"></a>    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-8-8" name="__codelineno-8-8"></a>        <span class="n">lowest</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>  <span class="c1"># limit@0</span>
<a id="__codelineno-8-9" name="__codelineno-8-9"></a>
<a id="__codelineno-8-10" name="__codelineno-8-10"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-8-11" name="__codelineno-8-11"></a>        <span class="c1"># i is odd, case b</span>
<a id="__codelineno-8-12" name="__codelineno-8-12"></a>        <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span><span class="p">:</span>  
<a id="__codelineno-8-13" name="__codelineno-8-13"></a>            <span class="c1"># since lo is within the interval, </span>
<a id="__codelineno-8-14" name="__codelineno-8-14"></a>            <span class="c1"># the lowest point is left boundary of that interval</span>
<a id="__codelineno-8-15" name="__codelineno-8-15"></a>            <span class="n">lowest</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">i</span><span class="o">-</span><span class="mi">1</span>
<a id="__codelineno-8-16" name="__codelineno-8-16"></a>
<a id="__codelineno-8-17" name="__codelineno-8-17"></a>        <span class="c1"># i is even, case c</span>
<a id="__codelineno-8-18" name="__codelineno-8-18"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-8-19" name="__codelineno-8-19"></a>            <span class="c1"># disjoint</span>
<a id="__codelineno-8-20" name="__codelineno-8-20"></a><span class="hll">            <span class="k">if</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">lo</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>  <span class="c1">#--- now comparing with lo-1</span>
</span><a id="__codelineno-8-21" name="__codelineno-8-21"></a>                <span class="n">lowest</span> <span class="o">=</span> <span class="n">lo</span><span class="p">,</span> <span class="n">i</span>
<a id="__codelineno-8-22" name="__codelineno-8-22"></a>            <span class="c1"># connected </span>
<a id="__codelineno-8-23" name="__codelineno-8-23"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-8-24" name="__codelineno-8-24"></a>                <span class="n">lowest</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="n">i</span><span class="o">-</span><span class="mi">2</span>
<a id="__codelineno-8-25" name="__codelineno-8-25"></a>
<a id="__codelineno-8-26" name="__codelineno-8-26"></a>    <span class="k">return</span> <span class="n">lowest</span>
<a id="__codelineno-8-27" name="__codelineno-8-27"></a>
<a id="__codelineno-8-28" name="__codelineno-8-28"></a>
<a id="__codelineno-8-29" name="__codelineno-8-29"></a><span class="k">def</span> <span class="nf">find_highest</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">hi</span><span class="p">):</span>
<a id="__codelineno-8-30" name="__codelineno-8-30"></a>    <span class="n">i</span> <span class="o">=</span> <span class="n">find</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">hi</span><span class="p">)</span>
<a id="__codelineno-8-31" name="__codelineno-8-31"></a>
<a id="__codelineno-8-32" name="__codelineno-8-32"></a>    <span class="c1"># boundary case</span>
<a id="__codelineno-8-33" name="__codelineno-8-33"></a>    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">A</span><span class="p">):</span>
<a id="__codelineno-8-34" name="__codelineno-8-34"></a>        <span class="n">highest</span> <span class="o">=</span> <span class="n">hi</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<a id="__codelineno-8-35" name="__codelineno-8-35"></a>
<a id="__codelineno-8-36" name="__codelineno-8-36"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-8-37" name="__codelineno-8-37"></a>        <span class="c1"># i is odd, case b</span>
<a id="__codelineno-8-38" name="__codelineno-8-38"></a>        <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span><span class="p">:</span>  
<a id="__codelineno-8-39" name="__codelineno-8-39"></a>            <span class="c1"># since hi is within the interval, </span>
<a id="__codelineno-8-40" name="__codelineno-8-40"></a>            <span class="c1"># the highest point is right boundary of that interval</span>
<a id="__codelineno-8-41" name="__codelineno-8-41"></a>            <span class="n">highest</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">i</span>  <span class="c1"># be careful with python indexing</span>
<a id="__codelineno-8-42" name="__codelineno-8-42"></a>
<a id="__codelineno-8-43" name="__codelineno-8-43"></a>        <span class="c1"># i is even, case a</span>
<a id="__codelineno-8-44" name="__codelineno-8-44"></a>        <span class="k">else</span><span class="p">:</span>  
<a id="__codelineno-8-45" name="__codelineno-8-45"></a><span class="hll">            <span class="k">if</span> <span class="n">hi</span><span class="o">+</span><span class="mi">1</span> <span class="o">&lt;</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>  <span class="c1">#--- now comparing with hi+1</span>
</span><a id="__codelineno-8-46" name="__codelineno-8-46"></a>                <span class="c1"># disjointed </span>
<a id="__codelineno-8-47" name="__codelineno-8-47"></a>                <span class="n">highest</span> <span class="o">=</span> <span class="n">hi</span><span class="p">,</span> <span class="n">i</span>
<a id="__codelineno-8-48" name="__codelineno-8-48"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-8-49" name="__codelineno-8-49"></a>                <span class="n">highest</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">i</span><span class="o">+</span><span class="mi">2</span>  <span class="c1"># be careful with python indexing</span>
<a id="__codelineno-8-50" name="__codelineno-8-50"></a>                <span class="c1"># [ ... hi 7 9  ... ] </span>
<a id="__codelineno-8-51" name="__codelineno-8-51"></a>                <span class="c1">#          ^ find(A,i) return index:i of this position</span>
<a id="__codelineno-8-52" name="__codelineno-8-52"></a>
<a id="__codelineno-8-53" name="__codelineno-8-53"></a>    <span class="k">return</span> <span class="n">highest</span>
<a id="__codelineno-8-54" name="__codelineno-8-54"></a>
<a id="__codelineno-8-55" name="__codelineno-8-55"></a>
<a id="__codelineno-8-56" name="__codelineno-8-56"></a><span class="k">def</span> <span class="nf">find_maximum_len</span><span class="p">(</span><span class="n">intervals</span><span class="p">):</span>
<a id="__codelineno-8-57" name="__codelineno-8-57"></a>    <span class="n">maximun</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-8-58" name="__codelineno-8-58"></a>    <span class="n">A</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-8-59" name="__codelineno-8-59"></a>
<a id="__codelineno-8-60" name="__codelineno-8-60"></a>    <span class="k">for</span> <span class="n">new_interval</span> <span class="ow">in</span> <span class="n">intervals</span><span class="p">:</span>
<a id="__codelineno-8-61" name="__codelineno-8-61"></a>        <span class="n">lo</span><span class="p">,</span> <span class="n">hi</span> <span class="o">=</span> <span class="n">new_interval</span>
<a id="__codelineno-8-62" name="__codelineno-8-62"></a>
<a id="__codelineno-8-63" name="__codelineno-8-63"></a>        <span class="c1"># combine intervals</span>
<a id="__codelineno-8-64" name="__codelineno-8-64"></a>        <span class="n">lo</span><span class="p">,</span> <span class="n">lo_limit</span> <span class="o">=</span> <span class="n">find_lowest</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">lo</span><span class="p">)</span>
<a id="__codelineno-8-65" name="__codelineno-8-65"></a>        <span class="n">hi</span><span class="p">,</span> <span class="n">up_limit</span> <span class="o">=</span> <span class="n">find_highest</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">hi</span><span class="p">)</span>
<a id="__codelineno-8-66" name="__codelineno-8-66"></a>
<a id="__codelineno-8-67" name="__codelineno-8-67"></a>        <span class="c1"># update the list</span>
<a id="__codelineno-8-68" name="__codelineno-8-68"></a>        <span class="n">A</span> <span class="o">=</span> <span class="n">A</span><span class="p">[:</span><span class="n">lo_limit</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">lo</span><span class="p">,</span> <span class="n">hi</span><span class="p">]</span> <span class="o">+</span> <span class="n">A</span><span class="p">[</span><span class="n">up_limit</span><span class="p">:]</span>
<a id="__codelineno-8-69" name="__codelineno-8-69"></a>
<a id="__codelineno-8-70" name="__codelineno-8-70"></a>        <span class="c1"># is this the largest consecutive interval?</span>
<a id="__codelineno-8-71" name="__codelineno-8-71"></a>        <span class="n">leng</span> <span class="o">=</span> <span class="n">lo</span> <span class="o">-</span> <span class="n">hi</span>
<a id="__codelineno-8-72" name="__codelineno-8-72"></a>        <span class="k">if</span> <span class="n">leng</span> <span class="o">&gt;</span> <span class="n">maximun</span><span class="p">:</span>
<a id="__codelineno-8-73" name="__codelineno-8-73"></a>            <span class="n">maximum</span> <span class="o">=</span> <span class="n">leng</span>
<a id="__codelineno-8-74" name="__codelineno-8-74"></a>
<a id="__codelineno-8-75" name="__codelineno-8-75"></a>    <span class="k">return</span> <span class="n">maximun</span><span class="o">+</span><span class="mi">1</span>
<a id="__codelineno-8-76" name="__codelineno-8-76"></a>
<a id="__codelineno-8-77" name="__codelineno-8-77"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">intervals</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">8</span><span class="p">)]</span>
<a id="__codelineno-8-78" name="__codelineno-8-78"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">find_maximum_len</span><span class="p">(</span><span class="n">intervals</span><span class="p">)</span>
<a id="__codelineno-8-79" name="__codelineno-8-79"></a><span class="mi">9</span>  <span class="c1"># (1 2 3 4 5 6 7 8 9)</span>
</code></pre></div></td></tr></table></div>
<h1 id="general-maxium-interval">General Maxium Interval<a class="headerlink" href="#general-maxium-interval" title="Permanent link">&para;</a></h1>
<p>In the previous section you can see that there is only 2 point where we have +-some value to incooperate with the idea of <code>interval-width of 1</code>. Therefore this can be parameterize and process any arbitrary interval-width.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-9-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-9-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-9-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-9-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-9-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-9-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-9-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-9-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-9-10">10</a></span>
<span class="normal"><a href="#__codelineno-9-11">11</a></span>
<span class="normal"><a href="#__codelineno-9-12">12</a></span>
<span class="normal"><a href="#__codelineno-9-13">13</a></span>
<span class="normal"><a href="#__codelineno-9-14">14</a></span>
<span class="normal"><a href="#__codelineno-9-15">15</a></span>
<span class="normal"><a href="#__codelineno-9-16">16</a></span>
<span class="normal"><a href="#__codelineno-9-17">17</a></span>
<span class="normal"><a href="#__codelineno-9-18">18</a></span>
<span class="normal"><a href="#__codelineno-9-19">19</a></span>
<span class="normal"><a href="#__codelineno-9-20">20</a></span>
<span class="normal"><a href="#__codelineno-9-21">21</a></span>
<span class="normal"><a href="#__codelineno-9-22">22</a></span>
<span class="normal"><a href="#__codelineno-9-23">23</a></span>
<span class="normal"><a href="#__codelineno-9-24">24</a></span>
<span class="normal"><a href="#__codelineno-9-25">25</a></span>
<span class="normal"><a href="#__codelineno-9-26">26</a></span>
<span class="normal"><a href="#__codelineno-9-27">27</a></span>
<span class="normal"><a href="#__codelineno-9-28">28</a></span>
<span class="normal"><a href="#__codelineno-9-29">29</a></span>
<span class="normal"><a href="#__codelineno-9-30">30</a></span>
<span class="normal"><a href="#__codelineno-9-31">31</a></span>
<span class="normal"><a href="#__codelineno-9-32">32</a></span>
<span class="normal"><a href="#__codelineno-9-33">33</a></span>
<span class="normal"><a href="#__codelineno-9-34">34</a></span>
<span class="normal"><a href="#__codelineno-9-35">35</a></span>
<span class="normal"><a href="#__codelineno-9-36">36</a></span>
<span class="normal"><a href="#__codelineno-9-37">37</a></span>
<span class="normal"><a href="#__codelineno-9-38">38</a></span>
<span class="normal"><a href="#__codelineno-9-39">39</a></span>
<span class="normal"><a href="#__codelineno-9-40">40</a></span>
<span class="normal"><a href="#__codelineno-9-41">41</a></span>
<span class="normal"><a href="#__codelineno-9-42">42</a></span>
<span class="normal"><a href="#__codelineno-9-43">43</a></span>
<span class="normal"><a href="#__codelineno-9-44">44</a></span>
<span class="normal"><a href="#__codelineno-9-45">45</a></span>
<span class="normal"><a href="#__codelineno-9-46">46</a></span>
<span class="normal"><a href="#__codelineno-9-47">47</a></span>
<span class="normal"><a href="#__codelineno-9-48">48</a></span>
<span class="normal"><a href="#__codelineno-9-49">49</a></span>
<span class="normal"><a href="#__codelineno-9-50">50</a></span>
<span class="normal"><a href="#__codelineno-9-51">51</a></span>
<span class="normal"><a href="#__codelineno-9-52">52</a></span>
<span class="normal"><a href="#__codelineno-9-53">53</a></span>
<span class="normal"><a href="#__codelineno-9-54">54</a></span>
<span class="normal"><a href="#__codelineno-9-55">55</a></span>
<span class="normal"><a href="#__codelineno-9-56">56</a></span>
<span class="normal"><a href="#__codelineno-9-57">57</a></span>
<span class="normal"><a href="#__codelineno-9-58">58</a></span>
<span class="normal"><a href="#__codelineno-9-59">59</a></span>
<span class="normal"><a href="#__codelineno-9-60">60</a></span>
<span class="normal"><a href="#__codelineno-9-61">61</a></span>
<span class="normal"><a href="#__codelineno-9-62">62</a></span>
<span class="normal"><a href="#__codelineno-9-63">63</a></span>
<span class="normal"><a href="#__codelineno-9-64">64</a></span>
<span class="normal"><a href="#__codelineno-9-65">65</a></span>
<span class="normal"><a href="#__codelineno-9-66">66</a></span>
<span class="normal"><a href="#__codelineno-9-67">67</a></span>
<span class="normal"><a href="#__codelineno-9-68">68</a></span>
<span class="normal"><a href="#__codelineno-9-69">69</a></span>
<span class="normal"><a href="#__codelineno-9-70">70</a></span>
<span class="normal"><a href="#__codelineno-9-71">71</a></span>
<span class="normal"><a href="#__codelineno-9-72">72</a></span>
<span class="normal"><a href="#__codelineno-9-73">73</a></span>
<span class="normal"><a href="#__codelineno-9-74">74</a></span>
<span class="normal"><a href="#__codelineno-9-75">75</a></span>
<span class="normal"><a href="#__codelineno-9-76">76</a></span>
<span class="normal"><a href="#__codelineno-9-77">77</a></span>
<span class="normal"><a href="#__codelineno-9-78">78</a></span>
<span class="normal"><a href="#__codelineno-9-79">79</a></span>
<span class="normal"><a href="#__codelineno-9-80">80</a></span>
<span class="normal"><a href="#__codelineno-9-81">81</a></span>
<span class="normal"><a href="#__codelineno-9-82">82</a></span>
<span class="normal"><a href="#__codelineno-9-83">83</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="kn">from</span> <span class="nn">bisect</span> <span class="kn">import</span> <span class="n">bisect</span> <span class="k">as</span> <span class="n">find</span>
<a id="__codelineno-9-2" name="__codelineno-9-2"></a>
<a id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="hll"><span class="k">def</span> <span class="nf">find_lowest</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">lo</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
</span><a id="__codelineno-9-4" name="__codelineno-9-4"></a>    <span class="n">i</span> <span class="o">=</span> <span class="n">find</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">lo</span><span class="p">)</span>
<a id="__codelineno-9-5" name="__codelineno-9-5"></a>
<a id="__codelineno-9-6" name="__codelineno-9-6"></a>    <span class="c1"># boundary case</span>
<a id="__codelineno-9-7" name="__codelineno-9-7"></a>    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-9-8" name="__codelineno-9-8"></a>        <span class="n">lowest</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>  <span class="c1"># limit@0</span>
<a id="__codelineno-9-9" name="__codelineno-9-9"></a>
<a id="__codelineno-9-10" name="__codelineno-9-10"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-9-11" name="__codelineno-9-11"></a>        <span class="c1"># i is odd, case b</span>
<a id="__codelineno-9-12" name="__codelineno-9-12"></a>        <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span><span class="p">:</span>  
<a id="__codelineno-9-13" name="__codelineno-9-13"></a>            <span class="c1"># since lo is within the interval, </span>
<a id="__codelineno-9-14" name="__codelineno-9-14"></a>            <span class="c1"># the lowest point is left boundary of that interval</span>
<a id="__codelineno-9-15" name="__codelineno-9-15"></a>            <span class="n">lowest</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">i</span><span class="o">-</span><span class="mi">1</span>
<a id="__codelineno-9-16" name="__codelineno-9-16"></a>
<a id="__codelineno-9-17" name="__codelineno-9-17"></a>        <span class="c1"># i is even, case c</span>
<a id="__codelineno-9-18" name="__codelineno-9-18"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-9-19" name="__codelineno-9-19"></a>            <span class="c1"># disjoint</span>
<a id="__codelineno-9-20" name="__codelineno-9-20"></a><span class="hll">            <span class="k">if</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">lo</span><span class="o">-</span><span class="n">r</span><span class="p">:</span>  <span class="c1">#--- parametrize</span>
</span><a id="__codelineno-9-21" name="__codelineno-9-21"></a>                <span class="n">lowest</span> <span class="o">=</span> <span class="n">lo</span><span class="p">,</span> <span class="n">i</span>
<a id="__codelineno-9-22" name="__codelineno-9-22"></a>            <span class="c1"># connected </span>
<a id="__codelineno-9-23" name="__codelineno-9-23"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-9-24" name="__codelineno-9-24"></a>                <span class="n">lowest</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="n">i</span><span class="o">-</span><span class="mi">2</span>
<a id="__codelineno-9-25" name="__codelineno-9-25"></a>
<a id="__codelineno-9-26" name="__codelineno-9-26"></a>    <span class="k">return</span> <span class="n">lowest</span>
<a id="__codelineno-9-27" name="__codelineno-9-27"></a>
<a id="__codelineno-9-28" name="__codelineno-9-28"></a>
<a id="__codelineno-9-29" name="__codelineno-9-29"></a><span class="hll"><span class="k">def</span> <span class="nf">find_highest</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">hi</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
</span><a id="__codelineno-9-30" name="__codelineno-9-30"></a>    <span class="n">i</span> <span class="o">=</span> <span class="n">find</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">hi</span><span class="p">)</span>
<a id="__codelineno-9-31" name="__codelineno-9-31"></a>
<a id="__codelineno-9-32" name="__codelineno-9-32"></a>    <span class="c1"># boundary case</span>
<a id="__codelineno-9-33" name="__codelineno-9-33"></a>    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">A</span><span class="p">):</span>
<a id="__codelineno-9-34" name="__codelineno-9-34"></a>        <span class="n">highest</span> <span class="o">=</span> <span class="n">hi</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<a id="__codelineno-9-35" name="__codelineno-9-35"></a>
<a id="__codelineno-9-36" name="__codelineno-9-36"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-9-37" name="__codelineno-9-37"></a>        <span class="c1"># i is odd, case b</span>
<a id="__codelineno-9-38" name="__codelineno-9-38"></a>        <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span><span class="p">:</span>  
<a id="__codelineno-9-39" name="__codelineno-9-39"></a>            <span class="c1"># since hi is within the interval, </span>
<a id="__codelineno-9-40" name="__codelineno-9-40"></a>            <span class="c1"># the highest point is right boundary of that interval</span>
<a id="__codelineno-9-41" name="__codelineno-9-41"></a>            <span class="n">highest</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">i</span>  <span class="c1"># be careful with python indexing</span>
<a id="__codelineno-9-42" name="__codelineno-9-42"></a>
<a id="__codelineno-9-43" name="__codelineno-9-43"></a>        <span class="c1"># i is even, case a</span>
<a id="__codelineno-9-44" name="__codelineno-9-44"></a>        <span class="k">else</span><span class="p">:</span>  
<a id="__codelineno-9-45" name="__codelineno-9-45"></a><span class="hll">            <span class="k">if</span> <span class="n">hi</span><span class="o">+</span><span class="n">r</span> <span class="o">&lt;</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>  <span class="c1">#--- parametrize</span>
</span><a id="__codelineno-9-46" name="__codelineno-9-46"></a>                <span class="c1"># disjointed </span>
<a id="__codelineno-9-47" name="__codelineno-9-47"></a>                <span class="n">highest</span> <span class="o">=</span> <span class="n">hi</span><span class="p">,</span> <span class="n">i</span>
<a id="__codelineno-9-48" name="__codelineno-9-48"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-9-49" name="__codelineno-9-49"></a>                <span class="n">highest</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">i</span><span class="o">+</span><span class="mi">2</span>  <span class="c1"># be careful with python indexing</span>
<a id="__codelineno-9-50" name="__codelineno-9-50"></a>                <span class="c1"># [ ... hi 7 9  ... ] </span>
<a id="__codelineno-9-51" name="__codelineno-9-51"></a>                <span class="c1">#          ^ find(A,i) return index:i of this position</span>
<a id="__codelineno-9-52" name="__codelineno-9-52"></a>
<a id="__codelineno-9-53" name="__codelineno-9-53"></a>    <span class="k">return</span> <span class="n">highest</span>
<a id="__codelineno-9-54" name="__codelineno-9-54"></a>
<a id="__codelineno-9-55" name="__codelineno-9-55"></a>
<a id="__codelineno-9-56" name="__codelineno-9-56"></a><span class="k">def</span> <span class="nf">low_and_high</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">lo</span><span class="p">,</span> <span class="n">hi</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<a id="__codelineno-9-57" name="__codelineno-9-57"></a>    <span class="k">return</span> <span class="n">find_lowest</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">lo</span><span class="p">,</span> <span class="n">r</span><span class="p">),</span> <span class="n">find_highest</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">hi</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span>
<a id="__codelineno-9-58" name="__codelineno-9-58"></a>
<a id="__codelineno-9-59" name="__codelineno-9-59"></a>
<a id="__codelineno-9-60" name="__codelineno-9-60"></a><span class="k">def</span> <span class="nf">find_maximum_len</span><span class="p">(</span><span class="n">intervals</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<a id="__codelineno-9-61" name="__codelineno-9-61"></a>    <span class="n">maximun</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-9-62" name="__codelineno-9-62"></a>    <span class="n">A</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-9-63" name="__codelineno-9-63"></a>
<a id="__codelineno-9-64" name="__codelineno-9-64"></a>    <span class="k">for</span> <span class="n">new_interval</span> <span class="ow">in</span> <span class="n">intervals</span><span class="p">:</span>
<a id="__codelineno-9-65" name="__codelineno-9-65"></a>        <span class="n">lo</span><span class="p">,</span> <span class="n">hi</span> <span class="o">=</span> <span class="n">new_interval</span>
<a id="__codelineno-9-66" name="__codelineno-9-66"></a>
<a id="__codelineno-9-67" name="__codelineno-9-67"></a>        <span class="c1"># combine intervals</span>
<a id="__codelineno-9-68" name="__codelineno-9-68"></a>        <span class="p">(</span><span class="n">lo</span><span class="p">,</span> <span class="n">lo_limit</span><span class="p">),</span> <span class="p">(</span><span class="n">hi</span><span class="p">,</span> <span class="n">up_limit</span><span class="p">)</span> <span class="o">=</span> <span class="n">low_and_high</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">lo</span><span class="p">,</span> <span class="n">hi</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span>
<a id="__codelineno-9-69" name="__codelineno-9-69"></a>
<a id="__codelineno-9-70" name="__codelineno-9-70"></a>        <span class="c1"># update the list</span>
<a id="__codelineno-9-71" name="__codelineno-9-71"></a>        <span class="n">A</span> <span class="o">=</span> <span class="n">A</span><span class="p">[:</span><span class="n">lo_limit</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">lo</span><span class="p">,</span> <span class="n">hi</span><span class="p">]</span> <span class="o">+</span> <span class="n">A</span><span class="p">[</span><span class="n">up_limit</span><span class="p">:]</span>
<a id="__codelineno-9-72" name="__codelineno-9-72"></a>
<a id="__codelineno-9-73" name="__codelineno-9-73"></a>        <span class="c1"># is this the largest consecutive interval?</span>
<a id="__codelineno-9-74" name="__codelineno-9-74"></a>        <span class="n">leng</span> <span class="o">=</span> <span class="n">lo</span> <span class="o">-</span> <span class="n">hi</span>
<a id="__codelineno-9-75" name="__codelineno-9-75"></a>        <span class="k">if</span> <span class="n">leng</span> <span class="o">&gt;</span> <span class="n">maximun</span><span class="p">:</span>
<a id="__codelineno-9-76" name="__codelineno-9-76"></a>            <span class="n">maximum</span> <span class="o">=</span> <span class="n">leng</span>
<a id="__codelineno-9-77" name="__codelineno-9-77"></a>
<a id="__codelineno-9-78" name="__codelineno-9-78"></a>    <span class="k">return</span> <span class="n">maximun</span><span class="o">+</span><span class="mi">1</span>
<a id="__codelineno-9-79" name="__codelineno-9-79"></a>
<a id="__codelineno-9-80" name="__codelineno-9-80"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">intervals</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">8</span><span class="p">)]</span>
<a id="__codelineno-9-81" name="__codelineno-9-81"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="mi">1</span>
<a id="__codelineno-9-82" name="__codelineno-9-82"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">find_maximum_len</span><span class="p">(</span><span class="n">intervals</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span>
<a id="__codelineno-9-83" name="__codelineno-9-83"></a><span class="mi">9</span>  <span class="c1"># (1 2 3 4 5 6 7 8 9)</span>
</code></pre></div></td></tr></table></div>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2023-06-09</span>
      
        <br>
        Created:
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2023-06-09</span>
      
    
  </small>
</div>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 Hirasawa Chika
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    <a href="https://github.com/hirasawakinko/chika_home" target="_blank" rel="noopener" title="Visit Chika&#39;s Github repository" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.expand", "navigation.prune", "navigation.indexes", "navigation.top", "search.suggest", "search.highlight", "header.autohide", "content.code.annotate", "content.tabs.link", "toc.integrate", "toc.follow"], "search": "../../assets/javascripts/workers/search.ecf98df9.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.d691e9de.min.js"></script>
      
    
  </body>
</html>